---
title: 字节序表示法-大小端
date: 2020-6-07 09:01:45
tags: 
  - C
---

![壁纸](03.jfif)

大小端表示法

<!--more-->



#### 1 理解字节序

小端模式, 是指数据的高字节保存在内存地址的高地址中，而数据的低字节保存在内存的低地址中;  （高高低低，高字节在前）

大端模式: 是指数据的高字节保存在内存的低地址中，而数据的低字节保存在内存的高地址中；（高低低高，低字节在前）



小端模式更适合系统内部处理，大端模式易读，常用作网络数据传输。

下面以占4个字节的整形数为例简述: 

```c

unsigned int val = 0x12345678;

// 小端表示
unsigned char little_endian_buf[4] = {0x78, 0x56, 0x34, 0x12};
// 大端表示
unsigned char big_endian_buf[4] = {0x12, 0x34, 0x56, 0x78};
```



#### 2 如何检测大小端

**test_endian.c**

```c

#include <stdio.h>

/*
	打印一个 int 整数的内存序列
*/
void print_byte_seq(int value)
{
    unsigned char *ptr = (unsigned char *)&value;

    for(int i=0; i<4; ++i)
    {
        printf("%02X ", *(ptr+i));
    }
    printf("\n");
}


int main(void)
{
    int value = 0x12345678;

    print_byte_seq(value);

    unsigned char *ptr = (unsigned char *)&value;
    if (*ptr == 0x12)
        printf("大端表示\n");
    else
        printf("小端表示\n");

    return 0;
}

```



**运行结果**

![运行结果](1.png)







