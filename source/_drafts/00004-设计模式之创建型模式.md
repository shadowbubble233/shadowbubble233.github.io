---
title: 00004.设计模式之创建型模式
date: 2021-08-30 12:31:57
tags:
  - 设计模式
  - Python
---



创建型设计模式

<!--more-->

##### 工厂模式

客户端可以请求一个对象，而无须知道这个对象来自哪里。

工厂背后的思想时简化对象的创建。

与客户端自己基于类实例化直接创建对象相比，基于一个中心化函数来实现，更易于追踪创建了哪些对象。

通过将创建对象的代码和使用对象的代码解耦，工厂能够降低应用维护的复杂度。

工厂有两种形式：工厂方法和抽象工厂。

工厂方法：一个方法，对不同的输入参数返回不同的对象；

抽象工厂：用一组用于创建一系列相关事物对象的工厂方法。

eg. 

Django 框架使用工厂方法模式来创建表单字段。

Django 的 forms 模块支持不同种类字段（CharField, EmailField）的创建和定制(max_length、required)。

如果因为应用创建对象的代码分布在不同的地方，而不是仅在一个函数/方法中，你发现没法跟踪这些对象，那么应该考虑使用工厂方法模式。

工厂方法集中在一个地方创建对象，使对象跟踪变得更容易。

若需要将对象的创建和使用解耦，工厂方法也能排上用场。

另一个应用案例与应用性能及内存使用相关。

工厂方法可以在必要时创建新的对象，从而提高性能和内存使用率。

若直接实例化类来创建对象，那么每次创建新对象就需要分配额外的内存。



xml, atom, yaml, json

.sq3 .mp3

普通文本文件，虽然人类可读文件解析起来通常比二进制文件更慢，但更易于数据交换，审查和修改。



优势：

1 让对象的创建更容易追踪

2 将对象创建与使用解耦

3 提供优化内存占用和应用性能的潜力



何时使用工厂模式，何时使用抽象工厂模式？

通常一开始使用工厂方法，因为它更简单。如果后来发现应用需要许多工厂方法，那么将创建一系列对象的过程合并在一起更合理，从而最终引入抽象工厂。



抽象工厂有一个优点，在使用工厂方法时从用户视角是看不到的，那就是抽象工厂能够通过改变激活的工厂方法动态地改变应用行为。

一个经典的例子是能够让用户在使用应用时改变应用的观感，而不需要终止应用然后重新启用。



























































































































































